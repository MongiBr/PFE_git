{"ast":null,"code":"var _jsxFileName = \"/Volumes/Second/npm/PFE_git/charioTN/packages/shop/containers/LayoutContainer/Header/Header.tsx\";\nvar __jsx = React.createElement;\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useContext, useState } from \"react\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport { openModal } from \"@redq/reuse-modal\";\nimport NavLink from \"components/NavLink/NavLink\";\nimport Popover from \"components/Popover/Popover\";\nimport SearchBox from \"components/SearchBox/SearchBox\";\nimport { SearchContext } from \"contexts/search/search.context\";\nimport { AuthContext } from \"contexts/auth/auth.context\";\nimport AuthenticationForm from \"../../SignInOutForm/Form\";\nimport { FormattedMessage } from \"react-intl\";\nimport Button from \"components/Button/Button\";\nimport LanguageContext from \"contexts/language/language.context\";\nimport { FruitsVegetable, MenuDown, FacialCare, HelpIcon, USFlag, SAFlag } from \"components/AllSvgIcon\";\nimport HeaderWrapper, { HeaderLeftSide, HeaderRightSide, Logo, MainMenu, SelectedType, DropDownArrow, SelectedLang, LanguageItem, LangSwithcer, Flag, TypeIcon } from \"./Header.style\";\nimport Logoimage from \"image/logoC.png\";\nimport UserImage from \"image/user.jpg\";\nimport { HOME_PAGE, GROCERY_PAGE, Food_PAGE, PROCEED_TO_CHECKOUT_PAGE, PROFILE_PAGE, ORDER_RECEIVED, YOUR_ORDER, HELP_PAGE } from \"containers/constants/navigation\";\nconst MenuArray = [{\n  link: GROCERY_PAGE,\n  icon: __jsx(FruitsVegetable, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }),\n  label: \"Grocery\"\n}, {\n  link: Food_PAGE,\n  label: \"Foods\",\n  icon: __jsx(FacialCare, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  })\n}];\nconst DropDownMenuArray = [{\n  link: PROFILE_PAGE,\n  label: \"Profile\",\n  intlId: \"navlinkProfile\"\n}, {\n  link: PROCEED_TO_CHECKOUT_PAGE,\n  label: \"Checkout\",\n  intlId: \"navlinkCheckout\"\n}, {\n  link: YOUR_ORDER,\n  label: \"Order\",\n  intlId: \"sidebarYourOrder\"\n}, {\n  link: ORDER_RECEIVED,\n  label: \"Order invoice\",\n  intlId: \"navlinkOrderReceived\"\n}];\nconst LanguageArray = [{\n  id: \"ar\",\n  label: \"Arabic\",\n  intlLangName: \"intlArabic\",\n  icon: __jsx(SAFlag, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 66\n    }\n  })\n}, {\n  id: \"en\",\n  label: \"English\",\n  intlLangName: \"intlEnglish\",\n  icon: __jsx(USFlag, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 68\n    }\n  })\n}];\n\nconst Header = ({\n  style,\n  className,\n  token,\n  pathname,\n  deviceType\n}) => {\n  const {\n    state: {\n      lang\n    },\n    toggleLanguage\n  } = useContext(LanguageContext);\n  const activeMenuItem = MenuArray.find(item => item.link === pathname);\n  const selectedLangindex = LanguageArray.findIndex(x => x.id === lang);\n  const {\n    authState: {\n      isAuthenticated\n    },\n    authDispatch\n  } = useContext(AuthContext);\n  const {\n    state,\n    dispatch\n  } = useContext(SearchContext);\n  const {\n    0: activeMenu,\n    1: setActiveMenu\n  } = useState(activeMenuItem || {\n    link: GROCERY_PAGE,\n    icon: __jsx(FruitsVegetable, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }),\n    label: \"Grocery\"\n  });\n  const {\n    text\n  } = state;\n\n  const handleSearch = text => {\n    dispatch({\n      type: \"UPDATE\",\n      payload: _objectSpread({}, state, {\n        text\n      })\n    });\n  };\n\n  const {\n    page\n  } = state,\n        urlState = _objectWithoutProperties(state, [\"page\"]);\n\n  const handleClickSearchButton = () => {\n    Router.push({\n      pathname: pathname,\n      query: _objectSpread({}, urlState, {\n        text\n      })\n    });\n  };\n\n  const handleLogout = () => {\n    if (false) {\n      localStorage.removeItem(\"access_token\");\n      authDispatch({\n        type: \"SIGN_OUT\"\n      });\n      Router.push(\"/\");\n    }\n  };\n\n  const resetSearch = selectedMenu => {\n    setActiveMenu(selectedMenu);\n    dispatch({\n      type: \"RESET\"\n    });\n  };\n\n  const NavItem = item => {\n    return __jsx(NavLink, {\n      key: item.link,\n      onClick: () => resetSearch(item),\n      className: \"menu-item\",\n      href: item.link,\n      label: item.label,\n      icon: item.icon,\n      iconClass: \"menu-item-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 7\n      }\n    });\n  };\n\n  const handleToggleLanguage = e => {\n    toggleLanguage(e.target.value);\n  };\n\n  const LanguageMenu = item => {\n    return __jsx(LanguageItem, {\n      onClick: handleToggleLanguage,\n      key: item.id,\n      value: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 7\n      }\n    }, __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }\n    }, item.icon), __jsx(FormattedMessage, {\n      id: item.intlLangName,\n      defaultMessage: item.label,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  const signInOutForm = () => {\n    authDispatch({\n      type: \"SIGNIN\"\n    });\n    openModal({\n      show: true,\n      overlayClassName: \"quick-view-overlay\",\n      closeOnClickOutside: true,\n      component: AuthenticationForm,\n      closeComponent: \"\",\n      config: {\n        enableResizing: false,\n        disableDragging: true,\n        className: \"quick-view-modal\",\n        width: 458,\n        height: \"auto\"\n      }\n    });\n  };\n\n  const isHomePage = pathname === HOME_PAGE || pathname === GROCERY_PAGE || pathname === Food_PAGE;\n  return __jsx(HeaderWrapper, {\n    style: style,\n    className: className,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 5\n    }\n  }, __jsx(HeaderLeftSide, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }\n  }, __jsx(Logo, {\n    onClick: () => resetSearch({\n      link: GROCERY_PAGE,\n      icon: __jsx(FruitsVegetable, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }\n      }),\n      label: \"Grocery\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }\n  }, __jsx(Link, {\n    href: HOME_PAGE,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 11\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: Logoimage,\n    alt: \"Chario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 15\n    }\n  })))), __jsx(MainMenu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }\n  }, __jsx(Popover, {\n    className: \"right\",\n    handler: __jsx(SelectedType, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 15\n      }\n    }, __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }\n    }, __jsx(TypeIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 19\n      }\n    }, activeMenu.icon), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 19\n      }\n    }, activeMenu.label)), __jsx(DropDownArrow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }\n    }, __jsx(MenuDown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 19\n      }\n    }))),\n    content: __jsx(React.Fragment, null, MenuArray.map(NavItem)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 11\n    }\n  }))), isHomePage ? __jsx(SearchBox, {\n    className: \"headerSearch\",\n    handleSearch: value => handleSearch(value),\n    onClick: handleClickSearchButton,\n    placeholder: \"Search anything...\",\n    hideType: true,\n    minimal: true,\n    showSvg: true,\n    style: {\n      width: \"100%\"\n    },\n    value: text || \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 9\n    }\n  }) : null, __jsx(HeaderRightSide, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }\n  }, __jsx(NavLink, {\n    className: \"menu-item\",\n    href: HELP_PAGE,\n    label: \"Need Help\",\n    intlId: \"navlinkHelp\",\n    iconClass: \"menu-icon\",\n    icon: __jsx(HelpIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 9\n    }\n  }), __jsx(LangSwithcer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 9\n    }\n  }, __jsx(Popover, {\n    className: \"right\",\n    handler: __jsx(SelectedLang, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 15\n      }\n    }, __jsx(Flag, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 17\n      }\n    }, LanguageArray[selectedLangindex].icon)),\n    content: __jsx(React.Fragment, null, LanguageArray.map(LanguageMenu)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 11\n    }\n  })), !isAuthenticated ? __jsx(Button, {\n    onClick: signInOutForm,\n    size: \"small\",\n    title: \"join\",\n    style: {\n      fontSize: 15,\n      color: \"#fff\"\n    },\n    intlButtonId: \"joinButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 11\n    }\n  }) : __jsx(Popover, {\n    direction: \"right\",\n    className: \"user-pages-dropdown\",\n    handler: __jsx(\"img\", {\n      src: UserImage,\n      alt: \"user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 22\n      }\n    }),\n    content: __jsx(React.Fragment, null, DropDownMenuArray.map((item, idx) => __jsx(NavLink, {\n      key: idx,\n      className: \"menu-item\",\n      href: item.link,\n      label: item.label,\n      intlId: item.intlId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 19\n      }\n    })), __jsx(\"div\", {\n      className: \"menu-item\",\n      onClick: handleLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 17\n      }\n    }, __jsx(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 19\n      }\n    }, __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 21\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"navlinkLogout\",\n      defaultMessage: \"Logout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 23\n      }\n    }))))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 11\n    }\n  })));\n};\n\nexport default Header;","map":{"version":3,"sources":["/Volumes/Second/npm/PFE_git/charioTN/packages/shop/containers/LayoutContainer/Header/Header.tsx"],"names":["React","useContext","useState","Link","Router","openModal","NavLink","Popover","SearchBox","SearchContext","AuthContext","AuthenticationForm","FormattedMessage","Button","LanguageContext","FruitsVegetable","MenuDown","FacialCare","HelpIcon","USFlag","SAFlag","HeaderWrapper","HeaderLeftSide","HeaderRightSide","Logo","MainMenu","SelectedType","DropDownArrow","SelectedLang","LanguageItem","LangSwithcer","Flag","TypeIcon","Logoimage","UserImage","HOME_PAGE","GROCERY_PAGE","Food_PAGE","PROCEED_TO_CHECKOUT_PAGE","PROFILE_PAGE","ORDER_RECEIVED","YOUR_ORDER","HELP_PAGE","MenuArray","link","icon","label","DropDownMenuArray","intlId","LanguageArray","id","intlLangName","Header","style","className","token","pathname","deviceType","state","lang","toggleLanguage","activeMenuItem","find","item","selectedLangindex","findIndex","x","authState","isAuthenticated","authDispatch","dispatch","activeMenu","setActiveMenu","text","handleSearch","type","payload","page","urlState","handleClickSearchButton","push","query","handleLogout","localStorage","removeItem","resetSearch","selectedMenu","NavItem","handleToggleLanguage","e","target","value","LanguageMenu","signInOutForm","show","overlayClassName","closeOnClickOutside","component","closeComponent","config","enableResizing","disableDragging","width","height","isHomePage","map","fontSize","color","idx"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport { openModal } from \"@redq/reuse-modal\";\nimport NavLink from \"components/NavLink/NavLink\";\nimport Popover from \"components/Popover/Popover\";\nimport SearchBox from \"components/SearchBox/SearchBox\";\nimport { SearchContext } from \"contexts/search/search.context\";\nimport { AuthContext } from \"contexts/auth/auth.context\";\nimport AuthenticationForm from \"../../SignInOutForm/Form\";\nimport { FormattedMessage } from \"react-intl\";\nimport Button from \"components/Button/Button\";\nimport LanguageContext from \"contexts/language/language.context\";\nimport CartPopUp from \"containers/Cart/CartPopUp\";\nimport { ShoppingBag } from \"components/AllSvgIcon\";\nimport {\n  FruitsVegetable,\n  MenuDown,\n  FacialCare,\n  DressIcon,\n  Handbag,\n  HelpIcon,\n  BookIcon,\n  FurnitureIcon,\n  DEFlag,\n  CNFlag,\n  USFlag,\n  ILFlag,\n  ESFlag,\n  SAFlag,\n} from \"components/AllSvgIcon\";\nimport HeaderWrapper, {\n  HeaderLeftSide,\n  HeaderRightSide,\n  Logo,\n  MainMenu,\n  SelectedType,\n  DropDownArrow,\n  SelectedLang,\n  LanguageItem,\n  LangSwithcer,\n  Flag,\n  TypeIcon,\n} from \"./Header.style\";\nimport Logoimage from \"image/logoC.png\";\nimport UserImage from \"image/user.jpg\";\nimport {\n  HOME_PAGE,\n  GROCERY_PAGE,\n  CLOTHING,\n  Food_PAGE,\n  BAGS_PAGE,\n  FURNITURE_PAGE,\n  BOOK_PAGE,\n  PROCEED_TO_CHECKOUT_PAGE,\n  PROFILE_PAGE,\n  ORDER_RECEIVED,\n  YOUR_ORDER,\n  OFFER_PAGE,\n  HELP_PAGE,\n} from \"containers/constants/navigation\";\ntype HeaderProps = {\n  style?: any;\n  className?: string;\n  token: string;\n  pathname: string;\n  deviceType?: any;\n};\n\nconst MenuArray = [\n  {\n    link: GROCERY_PAGE,\n    icon: <FruitsVegetable />,\n    label: \"Grocery\",\n  },\n  {\n    link: Food_PAGE,\n    label: \"Foods\",\n    icon: <FacialCare />,\n  },\n];\n\nconst DropDownMenuArray = [\n  {\n    link: PROFILE_PAGE,\n    label: \"Profile\",\n    intlId: \"navlinkProfile\",\n  },\n  {\n    link: PROCEED_TO_CHECKOUT_PAGE,\n    label: \"Checkout\",\n    intlId: \"navlinkCheckout\",\n  },\n  {\n    link: YOUR_ORDER,\n    label: \"Order\",\n    intlId: \"sidebarYourOrder\",\n  },\n  {\n    link: ORDER_RECEIVED,\n    label: \"Order invoice\",\n    intlId: \"navlinkOrderReceived\",\n  },\n];\n\nconst LanguageArray = [\n  { id: \"ar\", label: \"Arabic\", intlLangName: \"intlArabic\", icon: <SAFlag /> },\n\n  { id: \"en\", label: \"English\", intlLangName: \"intlEnglish\", icon: <USFlag /> },\n];\n\nconst Header: React.FC<HeaderProps> = ({\n  style,\n  className,\n  token,\n  pathname,\n  deviceType,\n}) => {\n  const {\n    state: { lang },\n    toggleLanguage,\n  } = useContext<any>(LanguageContext);\n\n  const activeMenuItem = MenuArray.find((item) => item.link === pathname);\n\n  const selectedLangindex = LanguageArray.findIndex((x) => x.id === lang);\n\n  const {\n    authState: { isAuthenticated },\n    authDispatch,\n  } = useContext<any>(AuthContext);\n  const { state, dispatch } = useContext(SearchContext);\n  const [activeMenu, setActiveMenu] = useState(\n    activeMenuItem || {\n      link: GROCERY_PAGE,\n      icon: <FruitsVegetable />,\n      label: \"Grocery\",\n    }\n  );\n\n  const { text } = state;\n  const handleSearch = (text: any) => {\n    dispatch({\n      type: \"UPDATE\",\n      payload: {\n        ...state,\n        text,\n      },\n    });\n  };\n  const { page, ...urlState } = state;\n  const handleClickSearchButton = () => {\n    Router.push({\n      pathname: pathname,\n      query: { ...urlState, text },\n    });\n  };\n  const handleLogout = () => {\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem(\"access_token\");\n      authDispatch({ type: \"SIGN_OUT\" });\n      Router.push(\"/\");\n    }\n  };\n  const resetSearch = (selectedMenu: any) => {\n    setActiveMenu(selectedMenu);\n    dispatch({\n      type: \"RESET\",\n    });\n  };\n  const NavItem = (item: any) => {\n    return (\n      <NavLink\n        key={item.link}\n        onClick={() => resetSearch(item)}\n        className=\"menu-item\"\n        href={item.link}\n        label={item.label}\n        icon={item.icon}\n        iconClass=\"menu-item-icon\"\n      />\n    );\n  };\n\n  const handleToggleLanguage = (e) => {\n    toggleLanguage(e.target.value);\n  };\n\n  const LanguageMenu = (item: any) => {\n    return (\n      <LanguageItem\n        onClick={handleToggleLanguage}\n        key={item.id}\n        value={item.id}\n      >\n        <span>{item.icon}</span>\n        <FormattedMessage id={item.intlLangName} defaultMessage={item.label} />\n      </LanguageItem>\n    );\n  };\n\n  const signInOutForm = () => {\n    authDispatch({\n      type: \"SIGNIN\",\n    });\n\n    openModal({\n      show: true,\n      overlayClassName: \"quick-view-overlay\",\n      closeOnClickOutside: true,\n      component: AuthenticationForm,\n      closeComponent: \"\",\n      config: {\n        enableResizing: false,\n        disableDragging: true,\n        className: \"quick-view-modal\",\n        width: 458,\n        height: \"auto\",\n      },\n    });\n  };\n\n  const isHomePage =\n    pathname === HOME_PAGE ||\n    pathname === GROCERY_PAGE ||\n    pathname === Food_PAGE;\n\n  return (\n    <HeaderWrapper style={style} className={className}>\n      <HeaderLeftSide>\n        <Logo\n          onClick={() =>\n            resetSearch({\n              link: GROCERY_PAGE,\n              icon: <FruitsVegetable />,\n              label: \"Grocery\",\n            })\n          }\n        >\n          <Link href={HOME_PAGE}>\n            <a>\n              <img src={Logoimage} alt=\"Chario\" />\n            </a>\n          </Link>\n        </Logo>\n        <MainMenu>\n          <Popover\n            className=\"right\"\n            handler={\n              <SelectedType>\n                <span>\n                  <TypeIcon>{activeMenu.icon}</TypeIcon>\n                  <span>{activeMenu.label}</span>\n                </span>\n                <DropDownArrow>\n                  <MenuDown />\n                </DropDownArrow>\n              </SelectedType>\n            }\n            content={<>{MenuArray.map(NavItem)}</>}\n          />\n        </MainMenu>\n      </HeaderLeftSide>\n      {isHomePage ? (\n        <SearchBox\n          className=\"headerSearch\"\n          handleSearch={(value: any) => handleSearch(value)}\n          onClick={handleClickSearchButton}\n          placeholder=\"Search anything...\"\n          hideType={true}\n          minimal={true}\n          showSvg={true}\n          style={{ width: \"100%\" }}\n          value={text || \"\"}\n        />\n      ) : null}\n      <HeaderRightSide>\n        <NavLink\n          className=\"menu-item\"\n          href={HELP_PAGE}\n          label=\"Need Help\"\n          intlId=\"navlinkHelp\"\n          iconClass=\"menu-icon\"\n          icon={<HelpIcon />}\n        />\n        <LangSwithcer>\n          <Popover\n            className=\"right\"\n            handler={\n              <SelectedLang>\n                <Flag>{LanguageArray[selectedLangindex].icon}</Flag>\n              </SelectedLang>\n            }\n            content={<>{LanguageArray.map(LanguageMenu)}</>}\n          />\n        </LangSwithcer>\n\n        {!isAuthenticated ? (\n          <Button\n            onClick={signInOutForm}\n            size=\"small\"\n            title=\"join\"\n            style={{ fontSize: 15, color: \"#fff\" }}\n            intlButtonId=\"joinButton\"\n          />\n        ) : (\n          <Popover\n            direction=\"right\"\n            className=\"user-pages-dropdown\"\n            handler={<img src={UserImage} alt=\"user\" />}\n            content={\n              <>\n                {DropDownMenuArray.map((item, idx) => (\n                  <NavLink\n                    key={idx}\n                    className=\"menu-item\"\n                    href={item.link}\n                    label={item.label}\n                    intlId={item.intlId}\n                  />\n                ))}\n                <div className=\"menu-item\" onClick={handleLogout}>\n                  <a>\n                    <span>\n                      <FormattedMessage\n                        id=\"navlinkLogout\"\n                        defaultMessage=\"Logout\"\n                      />\n                    </span>\n                  </a>\n                </div>\n              </>\n            }\n          />\n        )}\n      </HeaderRightSide>\n    </HeaderWrapper>\n  );\n};\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}