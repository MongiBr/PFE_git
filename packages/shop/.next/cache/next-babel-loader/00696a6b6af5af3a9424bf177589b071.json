{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Volumes/Second/npm/PFE_git/charioTN/packages/shop/containers/LayoutContainer/Header/Header.tsx\",\n    _this = this;\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext, useState } from \"react\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport { openModal } from \"@redq/reuse-modal\";\nimport NavLink from \"components/NavLink/NavLink\";\nimport Popover from \"components/Popover/Popover\";\nimport SearchBox from \"components/SearchBox/SearchBox\";\nimport { SearchContext } from \"contexts/search/search.context\";\nimport { AuthContext } from \"contexts/auth/auth.context\";\nimport AuthenticationForm from \"../../SignInOutForm/Form\";\nimport { FormattedMessage } from \"react-intl\";\nimport Button from \"components/Button/Button\";\nimport LanguageContext from \"contexts/language/language.context\";\nimport { FruitsVegetable, MenuDown, FacialCare, HelpIcon, USFlag, SAFlag } from \"components/AllSvgIcon\";\nimport HeaderWrapper, { HeaderLeftSide, HeaderRightSide, Logo, MainMenu, SelectedType, DropDownArrow, SelectedLang, LanguageItem, LangSwithcer, Flag, TypeIcon } from \"./Header.style\";\nimport Logoimage from \"image/logoC.png\";\nimport UserImage from \"image/user.jpg\";\nimport { HOME_PAGE, GROCERY_PAGE, CLOTHING, Food_PAGE, BAGS_PAGE, FURNITURE_PAGE, BOOK_PAGE, PROCEED_TO_CHECKOUT_PAGE, PROFILE_PAGE, ORDER_RECEIVED, YOUR_ORDER, HELP_PAGE } from \"constants/navigation\";\nvar MenuArray = [{\n  link: GROCERY_PAGE,\n  icon: __jsx(FruitsVegetable, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }),\n  label: \"Grocery\"\n}, {\n  link: Food_PAGE,\n  label: \"Foods\",\n  icon: __jsx(FacialCare, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  })\n}];\nvar DropDownMenuArray = [{\n  link: PROFILE_PAGE,\n  label: \"Profile\",\n  intlId: \"navlinkProfile\"\n}, {\n  link: PROCEED_TO_CHECKOUT_PAGE,\n  label: \"Checkout\",\n  intlId: \"navlinkCheckout\"\n}, {\n  link: YOUR_ORDER,\n  label: \"Order\",\n  intlId: \"sidebarYourOrder\"\n}, {\n  link: ORDER_RECEIVED,\n  label: \"Order invoice\",\n  intlId: \"navlinkOrderReceived\"\n}];\nvar LanguageArray = [{\n  id: \"ar\",\n  label: \"Arabic\",\n  intlLangName: \"intlArabic\",\n  icon: __jsx(SAFlag, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 66\n    }\n  })\n}, {\n  id: \"en\",\n  label: \"English\",\n  intlLangName: \"intlEnglish\",\n  icon: __jsx(USFlag, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 68\n    }\n  })\n}];\n\nvar Header = function Header(_ref) {\n  var style = _ref.style,\n      className = _ref.className,\n      token = _ref.token,\n      pathname = _ref.pathname,\n      deviceType = _ref.deviceType;\n\n  var _useContext = useContext(LanguageContext),\n      lang = _useContext.state.lang,\n      toggleLanguage = _useContext.toggleLanguage;\n\n  var activeMenuItem = MenuArray.find(function (item) {\n    return item.link === pathname;\n  });\n  var selectedLangindex = LanguageArray.findIndex(function (x) {\n    return x.id === lang;\n  });\n\n  var _useContext2 = useContext(AuthContext),\n      isAuthenticated = _useContext2.authState.isAuthenticated,\n      authDispatch = _useContext2.authDispatch;\n\n  var _useContext3 = useContext(SearchContext),\n      state = _useContext3.state,\n      dispatch = _useContext3.dispatch;\n\n  var _useState = useState(activeMenuItem || {\n    link: GROCERY_PAGE,\n    icon: __jsx(FruitsVegetable, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }),\n    label: \"Grocery\"\n  }),\n      activeMenu = _useState[0],\n      setActiveMenu = _useState[1];\n\n  var text = state.text;\n\n  var _handleSearch = function handleSearch(text) {\n    dispatch({\n      type: \"UPDATE\",\n      payload: _objectSpread({}, state, {\n        text: text\n      })\n    });\n  };\n\n  var page = state.page,\n      urlState = _objectWithoutProperties(state, [\"page\"]);\n\n  var handleClickSearchButton = function handleClickSearchButton() {\n    Router.push({\n      pathname: pathname,\n      query: _objectSpread({}, urlState, {\n        text: text\n      })\n    });\n  };\n\n  var handleLogout = function handleLogout() {\n    if (true) {\n      localStorage.removeItem(\"access_token\");\n      authDispatch({\n        type: \"SIGN_OUT\"\n      });\n      Router.push(\"/\");\n    }\n  };\n\n  var resetSearch = function resetSearch(selectedMenu) {\n    setActiveMenu(selectedMenu);\n    dispatch({\n      type: \"RESET\"\n    });\n  };\n\n  var NavItem = function NavItem(item) {\n    return __jsx(NavLink, {\n      key: item.link,\n      onClick: function onClick() {\n        return resetSearch(item);\n      },\n      className: \"menu-item\",\n      href: item.link,\n      label: item.label,\n      icon: item.icon,\n      iconClass: \"menu-item-icon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 7\n      }\n    });\n  };\n\n  var handleToggleLanguage = function handleToggleLanguage(e) {\n    toggleLanguage(e.target.value);\n  };\n\n  var LanguageMenu = function LanguageMenu(item) {\n    return __jsx(LanguageItem, {\n      onClick: handleToggleLanguage,\n      key: item.id,\n      value: item.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 7\n      }\n    }, __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }\n    }, item.icon), __jsx(FormattedMessage, {\n      id: item.intlLangName,\n      defaultMessage: item.label,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  var signInOutForm = function signInOutForm() {\n    authDispatch({\n      type: \"SIGNIN\"\n    });\n    openModal({\n      show: true,\n      overlayClassName: \"quick-view-overlay\",\n      closeOnClickOutside: true,\n      component: AuthenticationForm,\n      closeComponent: \"\",\n      config: {\n        enableResizing: false,\n        disableDragging: true,\n        className: \"quick-view-modal\",\n        width: 458,\n        height: \"auto\"\n      }\n    });\n  };\n\n  var isHomePage = pathname === HOME_PAGE || pathname === GROCERY_PAGE || pathname === CLOTHING || pathname === Food_PAGE || pathname === BOOK_PAGE || pathname === FURNITURE_PAGE || pathname === BAGS_PAGE;\n  return __jsx(HeaderWrapper, {\n    style: style,\n    className: className,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 5\n    }\n  }, __jsx(HeaderLeftSide, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }\n  }, __jsx(Logo, {\n    onClick: function onClick() {\n      return resetSearch({\n        link: GROCERY_PAGE,\n        icon: __jsx(FruitsVegetable, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 21\n          }\n        }),\n        label: \"Grocery\"\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }\n  }, __jsx(Link, {\n    href: HOME_PAGE,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 11\n    }\n  }, __jsx(\"a\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: Logoimage,\n    alt: \"Chario\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 15\n    }\n  })))), __jsx(MainMenu, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 9\n    }\n  }, __jsx(Popover, {\n    className: \"right\",\n    handler: __jsx(SelectedType, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 15\n      }\n    }, __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }\n    }, __jsx(TypeIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 19\n      }\n    }, activeMenu.icon), __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 19\n      }\n    }, activeMenu.label)), __jsx(DropDownArrow, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 17\n      }\n    }, __jsx(MenuDown, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 19\n      }\n    }))),\n    content: __jsx(React.Fragment, null, MenuArray.map(NavItem)),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 11\n    }\n  }))), isHomePage ? __jsx(SearchBox, {\n    className: \"headerSearch\",\n    handleSearch: function handleSearch(value) {\n      return _handleSearch(value);\n    },\n    onClick: handleClickSearchButton,\n    placeholder: \"Search anything...\",\n    hideType: true,\n    minimal: true,\n    showSvg: true,\n    style: {\n      width: \"100%\"\n    },\n    value: text || \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 9\n    }\n  }) : null, __jsx(HeaderRightSide, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }\n  }, __jsx(NavLink, {\n    className: \"menu-item\",\n    href: HELP_PAGE,\n    label: \"Need Help\",\n    intlId: \"navlinkHelp\",\n    iconClass: \"menu-icon\",\n    icon: __jsx(HelpIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 17\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 9\n    }\n  }), __jsx(LangSwithcer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 9\n    }\n  }, __jsx(Popover, {\n    className: \"right\",\n    handler: __jsx(SelectedLang, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 15\n      }\n    }, __jsx(Flag, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 17\n      }\n    }, LanguageArray[selectedLangindex].icon)),\n    content: __jsx(React.Fragment, null, LanguageArray.map(LanguageMenu)),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 11\n    }\n  })), !isAuthenticated ? __jsx(Button, {\n    onClick: signInOutForm,\n    size: \"small\",\n    title: \"join\",\n    style: {\n      fontSize: 15,\n      color: \"#fff\"\n    },\n    intlButtonId: \"joinButton\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 11\n    }\n  }) : __jsx(Popover, {\n    direction: \"right\",\n    className: \"user-pages-dropdown\",\n    handler: __jsx(\"img\", {\n      src: UserImage,\n      alt: \"user\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 22\n      }\n    }),\n    content: __jsx(React.Fragment, null, DropDownMenuArray.map(function (item, idx) {\n      return __jsx(NavLink, {\n        key: idx,\n        className: \"menu-item\",\n        href: item.link,\n        label: item.label,\n        intlId: item.intlId,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 19\n        }\n      });\n    }), __jsx(\"div\", {\n      className: \"menu-item\",\n      onClick: handleLogout,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 17\n      }\n    }, __jsx(\"a\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 19\n      }\n    }, __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 21\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"navlinkLogout\",\n      defaultMessage: \"Logout\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 23\n      }\n    }))))),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 11\n    }\n  })));\n};\n\nexport default Header;","map":{"version":3,"sources":["/Volumes/Second/npm/PFE_git/charioTN/packages/shop/containers/LayoutContainer/Header/Header.tsx"],"names":["React","useContext","useState","Link","Router","openModal","NavLink","Popover","SearchBox","SearchContext","AuthContext","AuthenticationForm","FormattedMessage","Button","LanguageContext","FruitsVegetable","MenuDown","FacialCare","HelpIcon","USFlag","SAFlag","HeaderWrapper","HeaderLeftSide","HeaderRightSide","Logo","MainMenu","SelectedType","DropDownArrow","SelectedLang","LanguageItem","LangSwithcer","Flag","TypeIcon","Logoimage","UserImage","HOME_PAGE","GROCERY_PAGE","CLOTHING","Food_PAGE","BAGS_PAGE","FURNITURE_PAGE","BOOK_PAGE","PROCEED_TO_CHECKOUT_PAGE","PROFILE_PAGE","ORDER_RECEIVED","YOUR_ORDER","HELP_PAGE","MenuArray","link","icon","label","DropDownMenuArray","intlId","LanguageArray","id","intlLangName","Header","style","className","token","pathname","deviceType","lang","state","toggleLanguage","activeMenuItem","find","item","selectedLangindex","findIndex","x","isAuthenticated","authState","authDispatch","dispatch","activeMenu","setActiveMenu","text","handleSearch","type","payload","page","urlState","handleClickSearchButton","push","query","handleLogout","localStorage","removeItem","resetSearch","selectedMenu","NavItem","handleToggleLanguage","e","target","value","LanguageMenu","signInOutForm","show","overlayClassName","closeOnClickOutside","component","closeComponent","config","enableResizing","disableDragging","width","height","isHomePage","map","fontSize","color","idx"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport { openModal } from \"@redq/reuse-modal\";\nimport NavLink from \"components/NavLink/NavLink\";\nimport Popover from \"components/Popover/Popover\";\nimport SearchBox from \"components/SearchBox/SearchBox\";\nimport { SearchContext } from \"contexts/search/search.context\";\nimport { AuthContext } from \"contexts/auth/auth.context\";\nimport AuthenticationForm from \"../../SignInOutForm/Form\";\nimport { FormattedMessage } from \"react-intl\";\nimport Button from \"components/Button/Button\";\nimport LanguageContext from \"contexts/language/language.context\";\nimport CartPopUp from \"containers/Cart/CartPopUp\";\nimport { ShoppingBag } from \"components/AllSvgIcon\";\nimport {\n  FruitsVegetable,\n  MenuDown,\n  FacialCare,\n  DressIcon,\n  Handbag,\n  HelpIcon,\n  BookIcon,\n  FurnitureIcon,\n  DEFlag,\n  CNFlag,\n  USFlag,\n  ILFlag,\n  ESFlag,\n  SAFlag,\n} from \"components/AllSvgIcon\";\nimport HeaderWrapper, {\n  HeaderLeftSide,\n  HeaderRightSide,\n  Logo,\n  MainMenu,\n  SelectedType,\n  DropDownArrow,\n  SelectedLang,\n  LanguageItem,\n  LangSwithcer,\n  Flag,\n  TypeIcon,\n} from \"./Header.style\";\nimport Logoimage from \"image/logoC.png\";\nimport UserImage from \"image/user.jpg\";\nimport {\n  HOME_PAGE,\n  GROCERY_PAGE,\n  CLOTHING,\n  Food_PAGE,\n  BAGS_PAGE,\n  FURNITURE_PAGE,\n  BOOK_PAGE,\n  PROCEED_TO_CHECKOUT_PAGE,\n  PROFILE_PAGE,\n  ORDER_RECEIVED,\n  YOUR_ORDER,\n  OFFER_PAGE,\n  HELP_PAGE,\n} from \"constants/navigation\";\ntype HeaderProps = {\n  style?: any;\n  className?: string;\n  token: string;\n  pathname: string;\n  deviceType?: any;\n};\n\nconst MenuArray = [\n  {\n    link: GROCERY_PAGE,\n    icon: <FruitsVegetable />,\n    label: \"Grocery\",\n  },\n  {\n    link: Food_PAGE,\n    label: \"Foods\",\n    icon: <FacialCare />,\n  },\n];\n\nconst DropDownMenuArray = [\n  {\n    link: PROFILE_PAGE,\n    label: \"Profile\",\n    intlId: \"navlinkProfile\",\n  },\n  {\n    link: PROCEED_TO_CHECKOUT_PAGE,\n    label: \"Checkout\",\n    intlId: \"navlinkCheckout\",\n  },\n  {\n    link: YOUR_ORDER,\n    label: \"Order\",\n    intlId: \"sidebarYourOrder\",\n  },\n  {\n    link: ORDER_RECEIVED,\n    label: \"Order invoice\",\n    intlId: \"navlinkOrderReceived\",\n  },\n];\n\nconst LanguageArray = [\n  { id: \"ar\", label: \"Arabic\", intlLangName: \"intlArabic\", icon: <SAFlag /> },\n\n  { id: \"en\", label: \"English\", intlLangName: \"intlEnglish\", icon: <USFlag /> },\n];\n\nconst Header: React.FC<HeaderProps> = ({\n  style,\n  className,\n  token,\n  pathname,\n  deviceType,\n}) => {\n  const {\n    state: { lang },\n    toggleLanguage,\n  } = useContext<any>(LanguageContext);\n\n  const activeMenuItem = MenuArray.find((item) => item.link === pathname);\n\n  const selectedLangindex = LanguageArray.findIndex((x) => x.id === lang);\n\n  const {\n    authState: { isAuthenticated },\n    authDispatch,\n  } = useContext<any>(AuthContext);\n  const { state, dispatch } = useContext(SearchContext);\n  const [activeMenu, setActiveMenu] = useState(\n    activeMenuItem || {\n      link: GROCERY_PAGE,\n      icon: <FruitsVegetable />,\n      label: \"Grocery\",\n    }\n  );\n\n  const { text } = state;\n  const handleSearch = (text: any) => {\n    dispatch({\n      type: \"UPDATE\",\n      payload: {\n        ...state,\n        text,\n      },\n    });\n  };\n  const { page, ...urlState } = state;\n  const handleClickSearchButton = () => {\n    Router.push({\n      pathname: pathname,\n      query: { ...urlState, text },\n    });\n  };\n  const handleLogout = () => {\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem(\"access_token\");\n      authDispatch({ type: \"SIGN_OUT\" });\n      Router.push(\"/\");\n    }\n  };\n  const resetSearch = (selectedMenu: any) => {\n    setActiveMenu(selectedMenu);\n    dispatch({\n      type: \"RESET\",\n    });\n  };\n  const NavItem = (item: any) => {\n    return (\n      <NavLink\n        key={item.link}\n        onClick={() => resetSearch(item)}\n        className=\"menu-item\"\n        href={item.link}\n        label={item.label}\n        icon={item.icon}\n        iconClass=\"menu-item-icon\"\n      />\n    );\n  };\n\n  const handleToggleLanguage = (e) => {\n    toggleLanguage(e.target.value);\n  };\n\n  const LanguageMenu = (item: any) => {\n    return (\n      <LanguageItem\n        onClick={handleToggleLanguage}\n        key={item.id}\n        value={item.id}\n      >\n        <span>{item.icon}</span>\n        <FormattedMessage id={item.intlLangName} defaultMessage={item.label} />\n      </LanguageItem>\n    );\n  };\n\n  const signInOutForm = () => {\n    authDispatch({\n      type: \"SIGNIN\",\n    });\n\n    openModal({\n      show: true,\n      overlayClassName: \"quick-view-overlay\",\n      closeOnClickOutside: true,\n      component: AuthenticationForm,\n      closeComponent: \"\",\n      config: {\n        enableResizing: false,\n        disableDragging: true,\n        className: \"quick-view-modal\",\n        width: 458,\n        height: \"auto\",\n      },\n    });\n  };\n\n  const isHomePage =\n    pathname === HOME_PAGE ||\n    pathname === GROCERY_PAGE ||\n    pathname === CLOTHING ||\n    pathname === Food_PAGE ||\n    pathname === BOOK_PAGE ||\n    pathname === FURNITURE_PAGE ||\n    pathname === BAGS_PAGE;\n\n  return (\n    <HeaderWrapper style={style} className={className}>\n      <HeaderLeftSide>\n        <Logo\n          onClick={() =>\n            resetSearch({\n              link: GROCERY_PAGE,\n              icon: <FruitsVegetable />,\n              label: \"Grocery\",\n            })\n          }\n        >\n          <Link href={HOME_PAGE}>\n            <a>\n              <img src={Logoimage} alt=\"Chario\" />\n            </a>\n          </Link>\n        </Logo>\n        <MainMenu>\n          <Popover\n            className=\"right\"\n            handler={\n              <SelectedType>\n                <span>\n                  <TypeIcon>{activeMenu.icon}</TypeIcon>\n                  <span>{activeMenu.label}</span>\n                </span>\n                <DropDownArrow>\n                  <MenuDown />\n                </DropDownArrow>\n              </SelectedType>\n            }\n            content={<>{MenuArray.map(NavItem)}</>}\n          />\n        </MainMenu>\n      </HeaderLeftSide>\n      {isHomePage ? (\n        <SearchBox\n          className=\"headerSearch\"\n          handleSearch={(value: any) => handleSearch(value)}\n          onClick={handleClickSearchButton}\n          placeholder=\"Search anything...\"\n          hideType={true}\n          minimal={true}\n          showSvg={true}\n          style={{ width: \"100%\" }}\n          value={text || \"\"}\n        />\n      ) : null}\n      <HeaderRightSide>\n        <NavLink\n          className=\"menu-item\"\n          href={HELP_PAGE}\n          label=\"Need Help\"\n          intlId=\"navlinkHelp\"\n          iconClass=\"menu-icon\"\n          icon={<HelpIcon />}\n        />\n        <LangSwithcer>\n          <Popover\n            className=\"right\"\n            handler={\n              <SelectedLang>\n                <Flag>{LanguageArray[selectedLangindex].icon}</Flag>\n              </SelectedLang>\n            }\n            content={<>{LanguageArray.map(LanguageMenu)}</>}\n          />\n        </LangSwithcer>\n\n        {!isAuthenticated ? (\n          <Button\n            onClick={signInOutForm}\n            size=\"small\"\n            title=\"join\"\n            style={{ fontSize: 15, color: \"#fff\" }}\n            intlButtonId=\"joinButton\"\n          />\n        ) : (\n          <Popover\n            direction=\"right\"\n            className=\"user-pages-dropdown\"\n            handler={<img src={UserImage} alt=\"user\" />}\n            content={\n              <>\n                {DropDownMenuArray.map((item, idx) => (\n                  <NavLink\n                    key={idx}\n                    className=\"menu-item\"\n                    href={item.link}\n                    label={item.label}\n                    intlId={item.intlId}\n                  />\n                ))}\n                <div className=\"menu-item\" onClick={handleLogout}>\n                  <a>\n                    <span>\n                      <FormattedMessage\n                        id=\"navlinkLogout\"\n                        defaultMessage=\"Logout\"\n                      />\n                    </span>\n                  </a>\n                </div>\n              </>\n            }\n          />\n        )}\n      </HeaderRightSide>\n    </HeaderWrapper>\n  );\n};\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}