{"ast":null,"code":"var _jsxFileName = \"/Volumes/Second/npm/PFE_git/packages/shop/containers/MagasinPage/MagasinPage.tsx\";\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect } from \"react\";\nimport Router from \"next/router\";\nimport Button from \"components/Button/Button\";\nimport InputIncDec from \"components/InputIncDec/InputIncDec\";\nimport { ProductDetailsWrapper, ProductPreview, ProductInfo, ProductTitle, BackButton, ProductWeight, ProductDescription, ProductCartWrapper, ProductCartBtn, RelatedItems } from \"./ProductDetails.style\";\nimport { LongArrowLeft, CartIcon } from \"components/AllSvgIcon\";\nimport ReadMore from \"components/Truncate/Truncate\";\nimport CarouselWithCustomDots from \"components/MultiCarousel/MultiCarousel\";\nimport { CartContext } from \"contexts/cart/cart.context\";\nimport { findProductIndex, getProductQuantity } from \"helper/utility\";\nimport { FormattedMessage } from \"react-intl\";\nimport LanguageContext from \"contexts/language/language.context\";\n\nconst MagasinPage = ({\n  magasin,\n  deviceType\n}) => {\n  const {\n    state: {\n      lang\n    }\n  } = useContext(LanguageContext);\n  console.log(magasin);\n  const {\n    add,\n    update,\n    products\n  } = useContext(CartContext);\n  const data = magasin;\n  const index = findProductIndex(products, data.id);\n  const quantity = getProductQuantity(products, index);\n\n  const handleClick = e => {\n    e.stopPropagation();\n    add(e, data);\n  };\n\n  const handleUpdate = (value, e) => {\n    if (index === -1 && value === 1) {\n      add(e, data);\n    } else {\n      update(data.id, value);\n    }\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      window.scrollTo(0, 0);\n    }, 500);\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(ProductDetailsWrapper, {\n    className: \"product-card\",\n    dir: \"ltr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, lang === \"ar\" || lang === \"he\" ? \"\" : __jsx(ProductPreview, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, __jsx(BackButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, __jsx(Button, {\n    title: \"Back\",\n    intlButtonId: \"backBtn\",\n    iconPosition: \"left\",\n    size: \"small\",\n    style: {\n      backgroundColor: \"#ffffff\",\n      border: \"1px solid #f1f1f1\",\n      color: \"#77798c\"\n    },\n    icon: __jsx(LongArrowLeft, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 23\n      }\n    }),\n    onClick: Router.back,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  })), __jsx(CarouselWithCustomDots, {\n    items: magasin.image,\n    deviceType: deviceType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  })), __jsx(ProductInfo, {\n    dir: lang === \"ar\" || lang === \"he\" ? \"rtl\" : \"ltr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, __jsx(ProductTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, magasin.title), __jsx(ProductWeight, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, magasin.image), __jsx(ProductDescription, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, __jsx(ReadMore, {\n    character: 600,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, magasin.description)), __jsx(ProductCartWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, __jsx(ProductCartBtn, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, quantity <= 0 ? __jsx(Button, {\n    title: \"Add to Cart\",\n    intlButtonId: \"addToCartButton\",\n    iconPosition: \"left\",\n    size: \"small\",\n    className: \"cart-button\",\n    icon: __jsx(CartIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }),\n    onClick: e => handleClick(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }) : __jsx(InputIncDec, {\n    value: quantity,\n    onClick: e => {\n      e.stopPropagation(onclick);\n    },\n    onUpdate: (value, e) => handleUpdate(value, e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  })))), lang === \"ar\" || lang === \"he\" ? __jsx(ProductPreview, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }, __jsx(BackButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, __jsx(Button, {\n    title: \"Back\",\n    intlButtonId: \"backBtn\",\n    iconPosition: \"left\",\n    size: \"small\",\n    style: {\n      backgroundColor: \"#ffffff\",\n      border: \"1px solid #f1f1f1\",\n      color: \"#77798c\"\n    },\n    icon: __jsx(LongArrowLeft, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 23\n      }\n    }),\n    onClick: Router.back,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  })), __jsx(CarouselWithCustomDots, {\n    items: magasin.image,\n    deviceType: deviceType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  })) : \"\"), __jsx(RelatedItems, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"intlReletedItems\",\n    defaultMessage: \"Related Items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default MagasinPage;","map":{"version":3,"sources":["/Volumes/Second/npm/PFE_git/packages/shop/containers/MagasinPage/MagasinPage.tsx"],"names":["React","useContext","useEffect","Router","Button","InputIncDec","ProductDetailsWrapper","ProductPreview","ProductInfo","ProductTitle","BackButton","ProductWeight","ProductDescription","ProductCartWrapper","ProductCartBtn","RelatedItems","LongArrowLeft","CartIcon","ReadMore","CarouselWithCustomDots","CartContext","findProductIndex","getProductQuantity","FormattedMessage","LanguageContext","MagasinPage","magasin","deviceType","state","lang","console","log","add","update","products","data","index","id","quantity","handleClick","e","stopPropagation","handleUpdate","value","setTimeout","window","scrollTo","backgroundColor","border","color","back","image","title","description","onclick"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport Button from \"components/Button/Button\";\nimport InputIncDec from \"components/InputIncDec/InputIncDec\";\nimport {\n  ProductDetailsWrapper,\n  ProductPreview,\n  ProductInfo,\n  ProductTitle,\n  BackButton,\n  ProductWeight,\n  ProductDescription,\n  ProductMeta,\n  ProductCartWrapper,\n  ProductPriceWrapper,\n  ProductPrice,\n  SalePrice,\n  ProductCartBtn,\n  MetaSingle,\n  MetaItem,\n  RelatedItems,\n} from \"./ProductDetails.style\";\nimport { LongArrowLeft, CartIcon } from \"components/AllSvgIcon\";\nimport ReadMore from \"components/Truncate/Truncate\";\nimport CarouselWithCustomDots from \"components/MultiCarousel/MultiCarousel\";\nimport ServiceProvider from \"containers/ServiceProvider/ServiceProvider\";\nimport { CartContext } from \"contexts/cart/cart.context\";\nimport { CURRENCY } from \"helper/constant\";\nimport { findProductIndex, getProductQuantity } from \"helper/utility\";\nimport { Magasin } from \"interfaces\";\nimport { FormattedMessage } from \"react-intl\";\nimport LanguageContext from \"contexts/language/language.context\";\n\ntype MagasinPageProps = {\n  magasin: Magasin | any;\n  deviceType: {\n    mobile: boolean;\n    tablet: boolean;\n    desktop: boolean;\n  };\n};\n\nconst MagasinPage: React.FunctionComponent<MagasinPageProps> = ({\n  magasin,\n  deviceType,\n}) => {\n  const {\n    state: { lang },\n  }: any = useContext(LanguageContext);\n  console.log(magasin);\n  const { add, update, products } = useContext(CartContext);\n  const data = magasin;\n  const index = findProductIndex(products, data.id);\n  const quantity = getProductQuantity(products, index);\n\n  const handleClick = (e) => {\n    e.stopPropagation();\n    add(e, data);\n  };\n\n  const handleUpdate = (value: number, e: any) => {\n    if (index === -1 && value === 1) {\n      add(e, data);\n    } else {\n      update(data.id, value);\n    }\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      window.scrollTo(0, 0);\n    }, 500);\n  }, []);\n\n  return (\n    <>\n      <ProductDetailsWrapper className=\"product-card\" dir=\"ltr\">\n        {lang === \"ar\" || lang === \"he\" ? (\n          \"\"\n        ) : (\n          <ProductPreview>\n            <BackButton>\n              <Button\n                title=\"Back\"\n                intlButtonId=\"backBtn\"\n                iconPosition=\"left\"\n                size=\"small\"\n                style={{\n                  backgroundColor: \"#ffffff\",\n                  border: \"1px solid #f1f1f1\",\n                  color: \"#77798c\",\n                }}\n                icon={<LongArrowLeft />}\n                onClick={Router.back}\n              />\n            </BackButton>\n\n            <CarouselWithCustomDots\n              items={magasin.image}\n              deviceType={deviceType}\n            />\n          </ProductPreview>\n        )}\n\n        <ProductInfo dir={lang === \"ar\" || lang === \"he\" ? \"rtl\" : \"ltr\"}>\n          <ProductTitle>{magasin.title}</ProductTitle>\n          <ProductWeight>{magasin.image}</ProductWeight>\n          <ProductDescription>\n            <ReadMore character={600}>{magasin.description}</ReadMore>\n          </ProductDescription>\n\n          <ProductCartWrapper>\n            <ProductCartBtn>\n              {quantity <= 0 ? (\n                <Button\n                  title=\"Add to Cart\"\n                  intlButtonId=\"addToCartButton\"\n                  iconPosition=\"left\"\n                  size=\"small\"\n                  className=\"cart-button\"\n                  icon={<CartIcon />}\n                  onClick={(e) => handleClick(e)}\n                />\n              ) : (\n                <InputIncDec\n                  value={quantity}\n                  onClick={(e: any) => {\n                    e.stopPropagation(onclick);\n                  }}\n                  onUpdate={(value: number, e) => handleUpdate(value, e)}\n                />\n              )}\n            </ProductCartBtn>\n          </ProductCartWrapper>\n        </ProductInfo>\n\n        {lang === \"ar\" || lang === \"he\" ? (\n          <ProductPreview>\n            <BackButton>\n              <Button\n                title=\"Back\"\n                intlButtonId=\"backBtn\"\n                iconPosition=\"left\"\n                size=\"small\"\n                style={{\n                  backgroundColor: \"#ffffff\",\n                  border: \"1px solid #f1f1f1\",\n                  color: \"#77798c\",\n                }}\n                icon={<LongArrowLeft />}\n                onClick={Router.back}\n              />\n            </BackButton>\n\n            <CarouselWithCustomDots\n              items={magasin.image}\n              deviceType={deviceType}\n            />\n          </ProductPreview>\n        ) : (\n          \"\"\n        )}\n      </ProductDetailsWrapper>\n\n      <RelatedItems>\n        <h2>\n          <FormattedMessage\n            id=\"intlReletedItems\"\n            defaultMessage=\"Related Items\"\n          />\n        </h2>\n      </RelatedItems>\n    </>\n  );\n};\n\nexport default MagasinPage;\n"]},"metadata":{},"sourceType":"module"}