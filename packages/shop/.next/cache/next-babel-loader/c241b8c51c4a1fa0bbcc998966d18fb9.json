{"ast":null,"code":"var _jsxFileName = \"/Volumes/Second/npm/PFE_git/packages/shop/components/SearchBox/SearchBox.tsx\",\n    _this = this;\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useRef, useState, useContext } from \"react\";\nimport SearchResults from \"./SearchResults\";\nimport SearchWrapper, { SearchBoxWrapper } from \"./SearchBox.style\";\nimport { SearchIcon } from \"../AllSvgIcon\";\nimport Popover from \"components/Popover/Popover\";\nimport { SearchContext } from \"contexts/search/search.context\";\nimport styled from \"styled-components\";\nimport { FruitsVegetable, MenuDown, FacialCare } from \"components/AllSvgIcon\";\nimport { DropDownArrow, SelectedType, TypeIcon } from \"containers/LayoutContainer/Header/Header.style\";\nvar MenuArray = [{\n  icon: __jsx(FruitsVegetable, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }),\n  label: \"Grocery\"\n}, {\n  label: \"Foods\",\n  icon: __jsx(FacialCare, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  })\n}];\nvar LocationsArray = [{\n  state: \"Sousse\",\n  cities: [\"Kalaa\", \"Jaouhra\"]\n}, {\n  state: \"Tunis\",\n  cities: [\"Lac\", \"La fayette\"]\n}];\nvar Icon = styled.span.withConfig({\n  displayName: \"SearchBox__Icon\",\n  componentId: \"sc-1d3hxkm-0\"\n})([\"min-width:16px;margin-right:10px;display:flex;align-items:center;justify-content:center;\"]);\n\nvar Search = function Search(_ref) {\n  var suggestions = _ref.suggestions,\n      buttonText = _ref.buttonText,\n      buttonIcon = _ref.buttonIcon,\n      inputStyle = _ref.inputStyle,\n      style = _ref.style,\n      bordered = _ref.bordered,\n      hideType = _ref.hideType,\n      showSvg = _ref.showSvg,\n      autoSuggestion = _ref.autoSuggestion,\n      placeholder = _ref.placeholder,\n      className = _ref.className,\n      handleSearch = _ref.handleSearch,\n      onClick = _ref.onClick,\n      value = _ref.value,\n      expand = _ref.expand,\n      minimal = _ref.minimal,\n      pathname = _ref.pathname;\n\n  var _useState = useState(\"\"),\n      searchValue = _useState[0],\n      setSearchValue = _useState[1];\n\n  var _useState2 = useState(false),\n      toggleSuggestion = _useState2[0],\n      setToggleSuggestion = _useState2[1];\n\n  var _useState3 = useState(false),\n      toggleSearch = _useState3[0],\n      setToggleSearch = _useState3[1];\n\n  var searchRef = useRef(null);\n  useEffect(function () {\n    document.addEventListener(\"click\", handleClickOutside, false);\n    return function () {\n      document.removeEventListener(\"click\", handleClickOutside, false);\n    };\n  }, []);\n\n  var handleSearchInput = function handleSearchInput(event) {\n    setSearchValue(event.target.value);\n    setToggleSuggestion(true);\n    handleSearch(event.target.value);\n  };\n\n  var ucwords = function ucwords(str) {\n    var newString = str.replace(/\\//g, \"\");\n    var humanString = newString.replace(/-/g, \" \");\n    return (humanString + \"\").replace(/^([a-z])|\\s+([a-z])/g, function ($1) {\n      return $1.toUpperCase();\n    });\n  };\n\n  var setSuggestion = function setSuggestion(suggestion) {\n    setSearchValue(suggestion);\n    setToggleSuggestion(false);\n  };\n\n  var handleClickOutside = function handleClickOutside(event) {\n    if (searchRef.current && !searchRef.current.contains(event.target)) {\n      setToggleSuggestion(false);\n      setToggleSearch(false);\n    }\n  };\n\n  var onClearBtnClick = function onClearBtnClick() {\n    setSearchValue(\"\");\n  };\n\n  var _useState4 = useState({\n    icon: __jsx(FruitsVegetable, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }),\n    label: \"Grocery\"\n  }),\n      activeMenu = _useState4[0],\n      setActiveMenu = _useState4[1];\n\n  var _useContext = useContext(SearchContext),\n      search = _useContext.state.search,\n      updateSearch = _useContext.updateSearch;\n\n  console.log(seach);\n\n  var _useState5 = useState(\"\"),\n      activeCity = _useState5[0],\n      setActiveCity = _useState5[1];\n\n  var StateItem = function StateItem(item) {\n    return __jsx(\"div\", {\n      className: \"menu-item\",\n      key: item.state,\n      onClick: function onClick() {\n        updateSearch(item);\n        setActiveCity(item.cities[0]);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 7\n      }\n    }, item.state);\n  };\n\n  var CityItem = function CityItem(item) {\n    return __jsx(\"div\", {\n      className: \"menu-item\",\n      key: item,\n      onClick: function onClick() {\n        return setActiveCity(item);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 7\n      }\n    }, item);\n  };\n\n  var NavItem = function NavItem(item) {\n    return __jsx(\"span\", {\n      key: item.label,\n      onClick: function onClick() {\n        return setActiveMenu(item);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 7\n      }\n    }, item.label);\n  };\n\n  return __jsx(SearchWrapper, {\n    className: className,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 5\n    }\n  }, __jsx(SearchBoxWrapper, {\n    className: \"\".concat(hideType ? \"hideType\" : \"\", \" \").concat(expand === true ? toggleSearch ? \"expanded\" : \"collapsed\" : \"\", \" \").concat(minimal === true ? \"minimal\" : \"\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }, __jsx(Popover, {\n    className: \"right\",\n    handler: __jsx(SelectedType, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"menu-item\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    }, __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }, search.state)), __jsx(DropDownArrow, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 15\n      }\n    }, __jsx(MenuDown, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }\n    }))),\n    content: __jsx(React.Fragment, null, LocationsArray.map(StateItem)),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }\n  }), __jsx(Popover, {\n    className: \"right\",\n    handler: __jsx(SelectedType, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }\n    }, __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 15\n      }\n    }, __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }\n    }, activeCity)), __jsx(DropDownArrow, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 15\n      }\n    }, __jsx(MenuDown, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    }))),\n    content: __jsx(React.Fragment, null, search.cities.map(CityItem)),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }), __jsx(Popover, {\n    className: \"right\",\n    handler: __jsx(SelectedType, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    }, __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 15\n      }\n    }, __jsx(TypeIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }\n    }, activeMenu.icon), __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }\n    }, activeMenu.label)), __jsx(DropDownArrow, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 15\n      }\n    }, __jsx(MenuDown, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }\n    }))),\n    content: __jsx(React.Fragment, null, MenuArray.map(NavItem)),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 9\n    }\n  })), autoSuggestion && toggleSuggestion ? __jsx(SearchResults, {\n    suggestions: suggestions,\n    clearSearch: onClearBtnClick,\n    setSuggestionValue: function setSuggestionValue(suggestion) {\n      return setSuggestion(suggestion);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }\n  }) : null);\n};\n\nSearch.defaultProps = {\n  bordered: false,\n  autoSuggestion: false,\n  buttonText: \"Search\",\n  buttonIcon: __jsx(SearchIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 15\n    }\n  }),\n  placeholder: \"Search your products from here\",\n  inputStyle: {\n    width: \"100%\"\n  }\n};\nexport default Search;","map":{"version":3,"sources":["/Volumes/Second/npm/PFE_git/packages/shop/components/SearchBox/SearchBox.tsx"],"names":["React","useEffect","useRef","useState","useContext","SearchResults","SearchWrapper","SearchBoxWrapper","SearchIcon","Popover","SearchContext","styled","FruitsVegetable","MenuDown","FacialCare","DropDownArrow","SelectedType","TypeIcon","MenuArray","icon","label","LocationsArray","state","cities","Icon","span","Search","suggestions","buttonText","buttonIcon","inputStyle","style","bordered","hideType","showSvg","autoSuggestion","placeholder","className","handleSearch","onClick","value","expand","minimal","pathname","searchValue","setSearchValue","toggleSuggestion","setToggleSuggestion","toggleSearch","setToggleSearch","searchRef","document","addEventListener","handleClickOutside","removeEventListener","handleSearchInput","event","target","ucwords","str","newString","replace","humanString","$1","toUpperCase","setSuggestion","suggestion","current","contains","onClearBtnClick","activeMenu","setActiveMenu","search","updateSearch","console","log","seach","activeCity","setActiveCity","StateItem","item","CityItem","NavItem","map","defaultProps","width"],"mappings":"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","sourcesContent":["import InputSearch from \"./Input\";\nimport React, { useEffect, useRef, useState, useContext } from \"react\";\nimport SearchResults from \"./SearchResults\";\nimport SearchWrapper, { SearchBoxWrapper } from \"./SearchBox.style\";\nimport { SearchIcon } from \"../AllSvgIcon\";\nimport Popover from \"components/Popover/Popover\";\nimport { SearchContext } from \"contexts/search/search.context\";\nimport styled from \"styled-components\";\nimport { FruitsVegetable, MenuDown, FacialCare } from \"components/AllSvgIcon\";\nimport HeaderWrapper, {\n  DropDownArrow,\n  SelectedType,\n  MainMenu,\n  TypeIcon,\n} from \"containers/LayoutContainer/Header/Header.style\";\n\ntype SearchBoxProps = {\n  suggestions?: string[];\n  buttonText?: string;\n  buttonIcon?: React.ReactNode;\n  inputStyle?: React.CSSProperties;\n  style?: React.CSSProperties;\n  bordered?: boolean;\n  hideType?: boolean;\n  showSvg?: boolean;\n  expand?: boolean;\n  minimal?: boolean;\n  autoSuggestion?: boolean;\n  placeholder?: string;\n  className?: string;\n  handleSearch?: Function;\n  onClick?: Function;\n  value?: any;\n  pathname?: string;\n};\n\nconst MenuArray = [\n  {\n    icon: <FruitsVegetable />,\n    label: \"Grocery\",\n  },\n  {\n    label: \"Foods\",\n    icon: <FacialCare />,\n  },\n];\n\nconst LocationsArray = [\n  {\n    state: \"Sousse\",\n    cities: [\"Kalaa\", \"Jaouhra\"],\n  },\n  {\n    state: \"Tunis\",\n    cities: [\"Lac\", \"La fayette\"],\n  },\n];\n\nconst Icon = styled.span`\n  min-width: 16px;\n  margin-right: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Search: React.FC<SearchBoxProps> = ({\n  suggestions,\n  buttonText,\n  buttonIcon,\n  inputStyle,\n  style,\n  bordered,\n  hideType,\n  showSvg,\n  autoSuggestion,\n  placeholder,\n  className,\n  handleSearch,\n  onClick,\n  value,\n  expand,\n  minimal,\n  pathname,\n}) => {\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [toggleSuggestion, setToggleSuggestion] = useState(false);\n  const [toggleSearch, setToggleSearch] = useState(false);\n\n  let searchRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    document.addEventListener(\"click\", handleClickOutside, false);\n    return () => {\n      document.removeEventListener(\"click\", handleClickOutside, false);\n    };\n  }, []);\n\n  const handleSearchInput = (event: any) => {\n    setSearchValue(event.target.value);\n    setToggleSuggestion(true);\n    handleSearch(event.target.value);\n  };\n\n  const ucwords = (str: string) => {\n    const newString = str.replace(/\\//g, \"\");\n    const humanString = newString.replace(/-/g, \" \");\n    return (humanString + \"\").replace(/^([a-z])|\\s+([a-z])/g, function($1) {\n      return $1.toUpperCase();\n    });\n  };\n\n  const setSuggestion = (suggestion: any) => {\n    setSearchValue(suggestion);\n    setToggleSuggestion(false);\n  };\n\n  const handleClickOutside = (event: any) => {\n    if (searchRef.current && !searchRef.current.contains(event.target)) {\n      setToggleSuggestion(false);\n      setToggleSearch(false);\n    }\n  };\n\n  const onClearBtnClick = () => {\n    setSearchValue(\"\");\n  };\n\n  const [activeMenu, setActiveMenu] = useState({\n    icon: <FruitsVegetable />,\n    label: \"Grocery\",\n  });\n  const {\n    state: { search },\n    updateSearch,\n  } = useContext<any>(SearchContext);\n  console.log(seach);\n  const [activeCity, setActiveCity] = useState(\"\");\n\n  const StateItem = (item: any) => {\n    return (\n      <div\n        className=\"menu-item\"\n        key={item.state}\n        onClick={() => {\n          updateSearch(item);\n          setActiveCity(item.cities[0]);\n        }}\n      >\n        {item.state}\n      </div>\n    );\n  };\n  const CityItem = (item: any) => {\n    return (\n      <div className=\"menu-item\" key={item} onClick={() => setActiveCity(item)}>\n        {item}\n      </div>\n    );\n  };\n  const NavItem = (item: any) => {\n    return (\n      <span key={item.label} onClick={() => setActiveMenu(item)}>\n        {item.label}\n      </span>\n    );\n  };\n\n  return (\n    <SearchWrapper className={className}>\n      <SearchBoxWrapper\n        className={`${hideType ? \"hideType\" : \"\"} ${\n          expand === true ? (toggleSearch ? \"expanded\" : \"collapsed\") : \"\"\n        } ${minimal === true ? \"minimal\" : \"\"}`}\n      >\n        <Popover\n          className=\"right\"\n          handler={\n            <SelectedType>\n              <div className=\"menu-item\">\n                <span>{search.state}</span>\n              </div>\n              <DropDownArrow>\n                <MenuDown />\n              </DropDownArrow>\n            </SelectedType>\n          }\n          content={<>{LocationsArray.map(StateItem)}</>}\n        />\n        <Popover\n          className=\"right\"\n          handler={\n            <SelectedType>\n              <span>\n                <span>{activeCity}</span>\n              </span>\n              <DropDownArrow>\n                <MenuDown />\n              </DropDownArrow>\n            </SelectedType>\n          }\n          content={<>{search.cities.map(CityItem)}</>}\n        />\n\n        <Popover\n          className=\"right\"\n          handler={\n            <SelectedType>\n              <span>\n                <TypeIcon>{activeMenu.icon}</TypeIcon>\n                <span>{activeMenu.label}</span>\n              </span>\n              <DropDownArrow>\n                <MenuDown />\n              </DropDownArrow>\n            </SelectedType>\n          }\n          content={<>{MenuArray.map(NavItem)}</>}\n        />\n        {/* <InputSearch\n          type=\"text\"\n          value={value}\n          onChange={handleSearchInput}\n          onFocus={() => setToggleSearch(true)}\n          onBlur={() => setToggleSearch(false)}\n          buttonIcon={buttonIcon}\n          buttonText={buttonText}\n          placeholder={placeholder}\n          style={inputStyle}\n          bordered={bordered}\n          showSvg={showSvg}\n          onClick={() => onClick(searchValue)}\n        /> */}\n      </SearchBoxWrapper>\n      {autoSuggestion && toggleSuggestion ? (\n        <SearchResults\n          suggestions={suggestions}\n          clearSearch={onClearBtnClick}\n          setSuggestionValue={(suggestion: any) => setSuggestion(suggestion)}\n        />\n      ) : null}\n    </SearchWrapper>\n  );\n};\n\nSearch.defaultProps = {\n  bordered: false,\n  autoSuggestion: false,\n  buttonText: \"Search\",\n  buttonIcon: <SearchIcon />,\n  placeholder: \"Search your products from here\",\n  inputStyle: {\n    width: \"100%\",\n  },\n};\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}